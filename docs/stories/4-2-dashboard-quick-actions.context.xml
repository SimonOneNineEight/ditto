<story-context id="bmad/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>4</epicId>
    <storyId>2</storyId>
    <title>Dashboard Quick Actions</title>
    <status>drafted</status>
    <generatedAt>2026-02-06</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/stories/4-2-dashboard-quick-actions.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>job seeker</asA>
    <iWant>quick action buttons on my dashboard</iWant>
    <soThat>I can jump into common tasks without navigating through menus</soThat>
    <tasks>
      <task id="1" name="Add Quick Actions to Dashboard Header" acs="1,2,3,6">
        <subtask id="1.1">Add button group container to dashboard page header with 12px gap (gap-3)</subtask>
        <subtask id="1.2">Create "+ Application" button with Plus icon and primary styling</subtask>
        <subtask id="1.3">Create "+ Interview" button with Plus icon and primary styling</subtask>
        <subtask id="1.4">Position buttons in page header (right side, aligned with section header)</subtask>
      </task>
      <task id="2" name="Implement + Application Flow" acs="4">
        <subtask id="2.1">Add state for showing application creation modal (showAppModal)</subtask>
        <subtask id="2.2">Wire "+ Application" button click to open existing application creation form</subtask>
        <subtask id="2.3">Verify modal opens and closes correctly</subtask>
      </task>
      <task id="3" name="Create Application Selector Dialog for + Interview" acs="5">
        <subtask id="3.1">Create ApplicationSelectorDialog component in frontend/src/components/application-selector/</subtask>
        <subtask id="3.2">Fetch applications list with GET /api/applications (use existing service)</subtask>
        <subtask id="3.3">Display searchable list of applications (company name + job title)</subtask>
        <subtask id="3.4">On selection, navigate to interview creation: /applications/{id}/interviews/new</subtask>
        <subtask id="3.5">Handle empty state: "No applications yet. Create one first."</subtask>
      </task>
      <task id="4" name="Implement + Interview Flow" acs="5">
        <subtask id="4.1">Add state for showing application selector dialog (showInterviewFlow)</subtask>
        <subtask id="4.2">Wire "+ Interview" button click to open ApplicationSelectorDialog</subtask>
        <subtask id="4.3">Handle application selection and navigation to interview form</subtask>
        <subtask id="4.4">Close dialog after selection</subtask>
      </task>
      <task id="5" name="Accessibility and Testing" acs="7">
        <subtask id="5.1">Ensure buttons have proper aria-labels</subtask>
        <subtask id="5.2">Test keyboard navigation (Tab to buttons, Enter to activate)</subtask>
        <subtask id="5.3">Verify focus management in application selector dialog</subtask>
        <subtask id="5.4">Manual testing of complete flows</subtask>
      </task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="1">Dashboard displays two quick action buttons in the page header: "+ Interview" and "+ Application"</criterion>
    <criterion id="2">Both buttons use primary blue styling ($--primary fill, $--primary-foreground text) with plus icon (16px)</criterion>
    <criterion id="3">Button styling: padding 8/16, corner radius 4px, 12px gap between buttons</criterion>
    <criterion id="4">Clicking "+ Application" opens the application creation modal/form</criterion>
    <criterion id="5">Clicking "+ Interview" opens an application selector dialog, then navigates to interview creation form for the selected application</criterion>
    <criterion id="6">Quick actions are visually prominent (positioned in page header, primary CTA styling)</criterion>
    <criterion id="7">Buttons are keyboard accessible (Tab, Enter)</criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/tech-spec-epic-4.md</path>
        <title>Epic 4 Technical Specification</title>
        <section>Story 4.2: Dashboard Quick Actions</section>
        <snippet>Design specifications for quick action buttons: primary blue styling, 12px gap, Plus icon 16px. Frontend implementation example with flex gap-3 layout.</snippet>
      </doc>
      <doc>
        <path>docs/epics.md</path>
        <title>Project Epics</title>
        <section>Story 4.2: Dashboard Quick Actions</section>
        <snippet>Story definition with acceptance criteria and task breakdown for dashboard quick actions feature.</snippet>
      </doc>
      <doc>
        <path>docs/PRD.md</path>
        <title>Product Requirements Document</title>
        <section>FR-4.1 Dashboard</section>
        <snippet>Dashboard requirements including quick actions for common tasks without menu navigation.</snippet>
      </doc>
      <doc>
        <path>docs/architecture-frontend.md</path>
        <title>Frontend Architecture</title>
        <section>Component Architecture</section>
        <snippet>shadcn/ui component patterns, Dialog component usage, Button with CVA variants, service integration patterns.</snippet>
      </doc>
      <doc>
        <path>docs/stories/4-1-dashboard-statistics-and-overview.md</path>
        <title>Story 4.1: Dashboard Statistics</title>
        <section>Dev Agent Record</section>
        <snippet>Dashboard page established at frontend/src/app/(app)/page.tsx with stats row, PageHeader component, error handling with retry pattern.</snippet>
      </doc>
    </docs>
    <code>
      <artifact>
        <path>frontend/src/app/(app)/page.tsx</path>
        <kind>page</kind>
        <symbol>Dashboard</symbol>
        <reason>Main dashboard page where quick action buttons will be added to the PageHeader</reason>
      </artifact>
      <artifact>
        <path>frontend/src/components/page-header/page-header.tsx</path>
        <kind>component</kind>
        <symbol>PageHeader</symbol>
        <reason>Header component that will need to support action buttons slot</reason>
      </artifact>
      <artifact>
        <path>frontend/src/components/ui/button.tsx</path>
        <kind>component</kind>
        <symbol>Button</symbol>
        <reason>shadcn/ui Button component with CVA variants for primary styling</reason>
      </artifact>
      <artifact>
        <path>frontend/src/components/ui/dialog.tsx</path>
        <kind>component</kind>
        <symbol>Dialog, DialogContent, DialogHeader, DialogTitle</symbol>
        <reason>Radix Dialog component for ApplicationSelectorDialog</reason>
      </artifact>
      <artifact>
        <path>frontend/src/services/application-service.ts</path>
        <kind>service</kind>
        <symbol>getApplications, ApplicationWithDetails</symbol>
        <reason>Service for fetching applications list with company/job details</reason>
      </artifact>
      <artifact>
        <path>frontend/src/app/(app)/applications/new/add-application-form.tsx</path>
        <kind>component</kind>
        <symbol>ApplicationForm</symbol>
        <reason>Existing application creation form to be opened by "+ Application" button</reason>
      </artifact>
      <artifact>
        <path>frontend/src/components/stat-card/stat-card.tsx</path>
        <kind>component</kind>
        <symbol>StatCard</symbol>
        <reason>Reference component structure pattern from Story 4.1</reason>
      </artifact>
      <artifact>
        <path>frontend/src/services/dashboard-service.ts</path>
        <kind>service</kind>
        <symbol>getStats</symbol>
        <reason>Service pattern established for dashboard API calls</reason>
      </artifact>
    </code>
    <dependencies>
      <frontend>
        <package name="react" version="^18" />
        <package name="next" version="14.2.15" />
        <package name="@radix-ui/react-dialog" version="^1.1.2" />
        <package name="lucide-react" version="^0.452.0" note="Plus icon" />
        <package name="class-variance-authority" version="^0.7.0" />
        <package name="tailwind-merge" version="^2.5.3" />
        <package name="cmdk" version="^1.1.1" note="Command palette for searchable list" />
      </frontend>
      <backend>
        <package name="github.com/gin-gonic/gin" version="v1.10.1" />
        <package name="github.com/jmoiron/sqlx" version="v1.4.0" />
      </backend>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint type="architecture">Use existing shadcn/ui Button and Dialog components - do not create custom implementations</constraint>
    <constraint type="architecture">Follow established service pattern from dashboard-service.ts for API calls</constraint>
    <constraint type="architecture">Component file structure: component-name/component-name.tsx + index.ts (follow stat-card pattern)</constraint>
    <constraint type="styling">Use Tailwind CSS utilities and CSS variables ($--primary, $--primary-foreground)</constraint>
    <constraint type="styling">Button styling: gap-3 (12px), primary variant, Plus icon with mr-2 h-4 w-4</constraint>
    <constraint type="routing">Navigate to /applications/new for application creation (existing route)</constraint>
    <constraint type="routing">Navigate to /applications/{id}/interviews/new for interview creation (existing route)</constraint>
    <constraint type="accessibility">Buttons must be focusable via Tab, activatable via Enter</constraint>
    <constraint type="accessibility">Dialog must trap focus and support Escape to close</constraint>
    <constraint type="state">Use useState for modal/dialog visibility state management</constraint>
  </constraints>

  <interfaces>
    <interface>
      <name>GET /api/applications/with-details</name>
      <kind>REST endpoint</kind>
      <signature>GET /api/applications/with-details?limit=1000 -> { data: { applications: ApplicationWithDetails[], total, page, limit, has_more } }</signature>
      <path>frontend/src/services/application-service.ts:70-88</path>
    </interface>
    <interface>
      <name>ApplicationWithDetails</name>
      <kind>TypeScript interface</kind>
      <signature>{ id, user_id, job_id, application_status_id, applied_at, job?: Job, company?: Company, status?: ApplicationStatus }</signature>
      <path>frontend/src/services/application-service.ts:29-45</path>
    </interface>
    <interface>
      <name>Dialog Component API</name>
      <kind>React component</kind>
      <signature>Dialog { open, onOpenChange }, DialogContent, DialogHeader, DialogTitle, DialogDescription</signature>
      <path>frontend/src/components/ui/dialog.tsx:111-122</path>
    </interface>
    <interface>
      <name>Button Component API</name>
      <kind>React component</kind>
      <signature>Button { variant?: "default" | "outline" | "ghost", size?, onClick?, children, className? }</signature>
      <path>frontend/src/components/ui/button.tsx</path>
    </interface>
    <interface>
      <name>useRouter</name>
      <kind>Next.js hook</kind>
      <signature>const router = useRouter(); router.push(path: string)</signature>
      <path>next/navigation</path>
    </interface>
  </interfaces>

  <tests>
    <standards>No automated testing framework configured. Manual testing with console logging for debugging. Visual verification of UI components. Keyboard accessibility testing for Tab/Enter navigation and focus management.</standards>
    <locations>
      <location>Manual testing via browser dev tools</location>
      <location>Design system page at /design-system for component showcase</location>
    </locations>
    <ideas>
      <idea ac="1,2,3,6">Verify buttons render in page header with correct styling (primary blue, Plus icons, 12px gap)</idea>
      <idea ac="4">Click "+ Application" button and verify navigation to /applications/new or modal opens</idea>
      <idea ac="5">Click "+ Interview" button, verify dialog opens with application list, select one, verify navigation to /applications/{id}/interviews/new</idea>
      <idea ac="5">Test empty state when no applications exist - should show "No applications yet" message</idea>
      <idea ac="7">Tab through dashboard and verify quick action buttons are focusable</idea>
      <idea ac="7">Press Enter on focused button and verify activation</idea>
      <idea ac="7">Open dialog and verify focus is trapped, Escape closes dialog</idea>
    </ideas>
  </tests>
</story-context>
