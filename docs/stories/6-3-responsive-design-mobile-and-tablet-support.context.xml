<story-context id="bmad/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>6</epicId>
    <storyId>3</storyId>
    <title>Responsive Design - Mobile and Tablet Support</title>
    <status>drafted</status>
    <generatedAt>2026-02-12</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/stories/6-3-responsive-design-mobile-and-tablet-support.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>user</asA>
    <iWant>ditto to work well on my phone and tablet</iWant>
    <soThat>I can access my job search data from any device</soThat>
    <tasks>
      <task id="1" title="Audit Current Responsive State and Plan Breakpoints" ac="1,2,3,4">
        <subtask id="1.1">Test all main pages at 375px, 768px, 1440px widths using Chrome DevTools</subtask>
        <subtask id="1.2">Document current breakage points (horizontal scroll, overlapping elements, unreadable text)</subtask>
        <subtask id="1.3">Define Tailwind breakpoint strategy aligned to design: mobile (375px base), md (768px tablet), lg (1440px desktop)</subtask>
        <subtask id="1.4">Create responsive design checklist for each page</subtask>
      </task>
      <task id="2" title="Create ResponsiveHeader and NavSheet Components" ac="2,3,4,5">
        <subtask id="2.1">Create useBreakpoint hook returning 'mobile' | 'tablet' | 'desktop'</subtask>
        <subtask id="2.2">Create ResponsiveHeader component (mobile/tablet variants)</subtask>
        <subtask id="2.3">Create NavSheet component for slide-out navigation</subtask>
        <subtask id="2.4">NavSheet contents: logo, close button, SearchTrigger, nav items</subtask>
        <subtask id="2.5">Implement close on navigation/close/backdrop click</subtask>
        <subtask id="2.6">Hide Sidebar below lg breakpoint</subtask>
        <subtask id="2.7">Update app layout for responsive header/sidebar</subtask>
        <subtask id="2.8">Avatar tap triggers UserDropdown with responsive positioning</subtask>
      </task>
      <task id="3" title="Responsive Dashboard Page" ac="1,2,3,4">
        <subtask id="3.1">Convert dashboard stats grid to responsive: 1/2/4 col</subtask>
        <subtask id="3.2">Stack quick actions vertically on mobile</subtask>
        <subtask id="3.3">Make upcoming items widget responsive</subtask>
        <subtask id="3.4">Test dashboard at all breakpoints</subtask>
      </task>
      <task id="4" title="Responsive Application List Page" ac="1,2,3,4">
        <subtask id="4.1">Convert ApplicationTable to card layout on mobile</subtask>
        <subtask id="4.2">Create MobileAppCard component</subtask>
        <subtask id="4.3">Create FilterSheet and SortSheet bottom sheets</subtask>
        <subtask id="4.4">Tablet filters: inline filter controls</subtask>
        <subtask id="4.5">Hide less important columns on tablet</subtask>
        <subtask id="4.6">Avoid horizontal scrolling at all widths</subtask>
      </task>
      <task id="5" title="Responsive Application Detail Page" ac="1,2,3,4">
        <subtask id="5.1">Stack application info sections vertically on mobile</subtask>
        <subtask id="5.2">File list displays as compact cards on mobile</subtask>
        <subtask id="5.3">Interview and assessment lists stack vertically</subtask>
        <subtask id="5.4">Action buttons remain compact/inline</subtask>
      </task>
      <task id="6" title="Responsive Interview Detail Page" ac="1,2,3,4,7">
        <subtask id="6.1">Convert 70/30 grid to stacked layout on mobile</subtask>
        <subtask id="6.2">Create PrevRoundsStrip for previous rounds</subtask>
        <subtask id="6.3">Simplify rich text editor toolbar on mobile</subtask>
        <subtask id="6.4">Collapse question sections by default on mobile</subtask>
        <subtask id="6.5">Ensure interviewer list readable on mobile</subtask>
      </task>
      <task id="7" title="Responsive Assessment Detail Page" ac="1,2,3,4,8">
        <subtask id="7.1">Stack assessment info vertically on mobile</subtask>
        <subtask id="7.2">Submission form full width on mobile</subtask>
        <subtask id="7.3">Status dropdown meets 44px touch target</subtask>
        <subtask id="7.4">Add Submission modal: full-screen mobile, dialog tablet+</subtask>
      </task>
      <task id="8" title="Responsive Timeline Page" ac="1,2,3">
        <subtask id="8.1">Timeline items full width cards on mobile</subtask>
        <subtask id="8.2">Filter controls stack vertically on mobile</subtask>
        <subtask id="8.3">Date grouping headers sticky on mobile</subtask>
      </task>
      <task id="9" title="Responsive Form Components" ac="5,6">
        <subtask id="9.1">Add inputMode attribute to inputs</subtask>
        <subtask id="9.2">Add autoComplete attributes</subtask>
        <subtask id="9.3">Verify 44px touch targets on inputs</subtask>
        <subtask id="9.4">Add focus trap and auto-focus for modals</subtask>
        <subtask id="9.5">Ensure date pickers work on mobile</subtask>
      </task>
      <task id="10" title="Responsive Rich Text Editor (TipTap)" ac="7">
        <subtask id="10.1">Create responsive toolbar (full/essential)</subtask>
        <subtask id="10.2">Essential mobile toolbar: bold, italic, list, link</subtask>
        <subtask id="10.3">Add overflow menu for additional formatting</subtask>
        <subtask id="10.4">Increase editor min-height on mobile</subtask>
        <subtask id="10.5">Test paste and link insertion on mobile</subtask>
      </task>
      <task id="11" title="Touch Target Audit and Fix" ac="5">
        <subtask id="11.1">Audit all interactive elements for 44x44px minimum</subtask>
        <subtask id="11.2">Increase icon button sizes on mobile</subtask>
        <subtask id="11.3">Add padding to clickable table rows</subtask>
        <subtask id="11.4">Ensure dropdown items have adequate spacing</subtask>
      </task>
      <task id="12" title="Global Search Responsive" ac="2,3">
        <subtask id="12.1">Full-screen search overlay on mobile</subtask>
        <subtask id="12.2">Search input auto-focused on mobile</subtask>
        <subtask id="12.3">Results grouped with collapsible sections</subtask>
        <subtask id="12.4">Close button 44x44px accessible</subtask>
      </task>
      <task id="13" title="FAB Pattern for Mobile" ac="2">
        <subtask id="13.1">Create reusable FAB component (52x52px)</subtask>
        <subtask id="13.2">Add FAB to Dashboard (expandable)</subtask>
        <subtask id="13.3">Add FAB to Applications list</subtask>
        <subtask id="13.4">Add FAB to Interviews list</subtask>
        <subtask id="13.5">Position FAB bottom-right</subtask>
        <subtask id="13.6">Hide FAB on tablet/desktop</subtask>
      </task>
      <task id="14" title="Bottom Sheet Components for Mobile" ac="2">
        <subtask id="14.1">Create reusable BottomSheet component</subtask>
        <subtask id="14.2">Implement FilterSheet</subtask>
        <subtask id="14.3">Implement SortSheet</subtask>
        <subtask id="14.4">Ensure drag-to-dismiss and backdrop</subtask>
      </task>
      <task id="15" title="Modal Responsiveness Strategy" ac="8">
        <subtask id="15.1">Create responsive modal wrapper</subtask>
        <subtask id="15.2">Update all modals to responsive pattern</subtask>
        <subtask id="15.3">Full-screen mobile modals with header/footer</subtask>
        <subtask id="15.4">Centered tablet modals with max-width</subtask>
      </task>
      <task id="16" title="Responsive Files Page" ac="1,2,3">
        <subtask id="16.1">Files list as cards on mobile, table on tablet+</subtask>
        <subtask id="16.2">Storage warning responsive styling</subtask>
        <subtask id="16.3">File upload button accessible on mobile</subtask>
      </task>
      <task id="17" title="Responsive Settings Page" ac="1,2,3">
        <subtask id="17.1">Settings sections stack vertically</subtask>
        <subtask id="17.2">Form controls full-width on mobile</subtask>
        <subtask id="17.3">Navigation between settings sections</subtask>
      </task>
      <task id="18" title="Empty States for Mobile/Tablet" ac="2,3">
        <subtask id="18.1">Responsive empty state for Dashboard</subtask>
        <subtask id="18.2">Responsive empty state for Applications</subtask>
        <subtask id="18.3">Responsive empty state for Interviews</subtask>
        <subtask id="18.4">Responsive empty state for Files</subtask>
        <subtask id="18.5">Include icon, title, description, CTA</subtask>
      </task>
      <task id="19" title="Notification Dropdown Responsive" ac="2,3">
        <subtask id="19.1">Full-width dropdown on mobile</subtask>
        <subtask id="19.2">360px positioned dropdown on tablet</subtask>
        <subtask id="19.3">Shadow effect and border styling</subtask>
      </task>
      <task id="20" title="Visual Verification and Bug Fixes" ac="all">
        <subtask id="20.1">Test on actual mobile device</subtask>
        <subtask id="20.2">Test on tablet device or emulator</subtask>
        <subtask id="20.3">Fix horizontal scroll issues</subtask>
        <subtask id="20.4">Verify 16px minimum base text</subtask>
        <subtask id="20.5">Run Lighthouse mobile audit</subtask>
      </task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="AC1" title="Full device range support">Application functional on screen widths from 375px (mobile) to 3840px (4K desktop) (NFR-4.2, design baseline)</criterion>
    <criterion id="AC2" title="Mobile layout (375-767px)">MobileHeader with hamburger menu, FAB for create actions, bottom sheets for filters/sort, full-screen modals, readable text without horizontal scrolling</criterion>
    <criterion id="AC3" title="Tablet layout (768-1439px)">TabletHeader (same pattern as mobile with more spacing), NO sidebar, centered dialog modals, inline filter controls</criterion>
    <criterion id="AC4" title="Desktop layout (1440px+)">Full sidebar navigation, multi-column layouts, rich toolbars, side-by-side views</criterion>
    <criterion id="AC5" title="Touch targets">Minimum 44x44px on mobile (WCAG AA compliance)</criterion>
    <criterion id="AC6" title="Mobile-friendly forms">Forms easy to fill on mobile (proper input types, auto-focus management)</criterion>
    <criterion id="AC7" title="Rich text editor mobile">TipTap editor works on mobile with simplified toolbar</criterion>
    <criterion id="AC8" title="Modal responsiveness">Full-screen modals on mobile, centered overlay dialogs on tablet/desktop</criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/tech-spec-epic-6.md</path>
        <title>Epic 6 Technical Specification</title>
        <section>Story 6.3: Responsive Design</section>
        <snippet>AC 6.3.1-7: Mobile (320-767px) bottom nav, simplified forms; Tablet (768-1279px) collapsible sidebar; Desktop (1280px+) full sidebar, multi-column layouts; Touch targets 44x44px minimum; Rich text editor mobile toolbar.</snippet>
      </doc>
      <doc>
        <path>docs/architecture-frontend.md</path>
        <title>Frontend Architecture</title>
        <section>Responsive Design</section>
        <snippet>Uses Tailwind breakpoints. Custom hook useIsMobile() returns true if width &lt; 768px. shadcn/ui components with Radix primitives for accessibility. Sheet component for mobile navigation panels.</snippet>
      </doc>
      <doc>
        <path>docs/design-system-principles.md</path>
        <title>Design System Principles</title>
        <section>Responsive Behavior</section>
        <snippet>Breakpoints: Mobile &lt; 640px single column, reduced padding; Tablet 640-1024px content max-width maintained; Desktop &gt; 1024px full experience. Mobile adjustments: 32px 20px padding, 32px title font.</snippet>
      </doc>
      <doc>
        <path>docs/accessibility-standards.md</path>
        <title>Accessibility Standards</title>
        <section>Touch Targets, Keyboard Navigation</section>
        <snippet>WCAG 2.1 AA compliance. All interactive elements keyboard accessible. Focus indicators visible. Minimum 44x44px touch targets on mobile. Form labels associated with inputs. Color not only indicator of status.</snippet>
      </doc>
      <doc>
        <path>ditto-design.pen</path>
        <title>Ditto Design File</title>
        <section>Responsive Web Design Components</section>
        <snippet>Comprehensive RWD designs including MobileHeader, TabletHeader, MobileAppCard, FAB (52x52px), FilterSheet, SortSheet, PrevRoundsStrip, responsive modals. Design baseline: 375px mobile, 768px tablet, 1440px desktop.</snippet>
      </doc>
    </docs>
    <code>
      <file>
        <path>frontend/src/hooks/use-mobile.ts</path>
        <kind>hook</kind>
        <symbol>useIsMobile</symbol>
        <lines>1-19</lines>
        <reason>Existing mobile detection hook with 1024px breakpoint. Needs extension to useBreakpoint for 3-layout distinction (mobile/tablet/desktop).</reason>
      </file>
      <file>
        <path>frontend/src/app/(app)/layout.tsx</path>
        <kind>layout</kind>
        <symbol>RootLayout</symbol>
        <lines>31-59</lines>
        <reason>App layout with SidebarProvider, AppSidebar, Navbar. Add ResponsiveHeader for mobile/tablet, show Sidebar only on lg+.</reason>
      </file>
      <file>
        <path>frontend/src/components/sidebar/sidebar.tsx</path>
        <kind>component</kind>
        <symbol>AppSidebar</symbol>
        <lines>54-146</lines>
        <reason>Main sidebar with navigation, search trigger, user section. Add hidden lg:flex wrapper. Extract nav items for NavSheet reuse.</reason>
      </file>
      <file>
        <path>frontend/src/components/ui/sheet.tsx</path>
        <kind>ui-component</kind>
        <symbol>Sheet, SheetContent</symbol>
        <lines>1-139</lines>
        <reason>Radix-based Sheet component with side variants (left/right/top/bottom). Use side="left" for NavSheet, side="bottom" for FilterSheet/SortSheet.</reason>
      </file>
      <file>
        <path>frontend/src/components/ui/dialog.tsx</path>
        <kind>ui-component</kind>
        <symbol>Dialog, DialogContent</symbol>
        <lines>1-122</lines>
        <reason>Radix-based Dialog for modals. Extend for responsive modal wrapper (full-screen on mobile, centered on tablet+).</reason>
      </file>
      <file>
        <path>frontend/src/app/(app)/page.tsx</path>
        <kind>page</kind>
        <symbol>Dashboard</symbol>
        <lines>1-186</lines>
        <reason>Dashboard with stats grid (flex gap-6), quick actions, widgets. Convert to responsive grid (1/2/4 cols), add FAB for mobile.</reason>
      </file>
      <file>
        <path>frontend/src/app/(app)/applications/application-table/application-table.tsx</path>
        <kind>component</kind>
        <symbol>ApplicationTable</symbol>
        <lines>1-171</lines>
        <reason>Table-based application list with pagination. Add card layout for mobile, hide columns on tablet.</reason>
      </file>
      <file>
        <path>frontend/src/components/rich-text-editor.tsx</path>
        <kind>component</kind>
        <symbol>RichTextEditor</symbol>
        <lines>1-168</lines>
        <reason>TipTap editor with full toolbar (10 buttons). Add responsive toolbar with essential buttons on mobile (bold, italic, list, link).</reason>
      </file>
      <file>
        <path>frontend/src/components/global-search/GlobalSearch.tsx</path>
        <kind>component</kind>
        <symbol>GlobalSearch</symbol>
        <lines>1-214</lines>
        <reason>Command palette search in Dialog. Add full-screen variant on mobile, auto-focus input, 44px close button.</reason>
      </file>
    </code>
    <dependencies>
      <ecosystem name="node">
        <package name="next" version="14.2.15">React framework with App Router</package>
        <package name="react" version="^18">UI library</package>
        <package name="tailwindcss" version="^4.1.10">Utility-first CSS with responsive breakpoints (sm, md, lg, xl, 2xl)</package>
        <package name="@radix-ui/react-dialog" version="^1.1.2">Accessible dialog/modal primitive</package>
        <package name="@tiptap/react" version="^3.17.1">Rich text editor</package>
        <package name="cmdk" version="^1.1.1">Command menu component</package>
        <package name="vaul" version="^1.1.2">Drawer component (potential for bottom sheets)</package>
        <package name="lucide-react" version="^0.452.0">Icon library (Menu, X, Plus for FAB)</package>
        <package name="class-variance-authority" version="^0.7.0">Variant-based component styling</package>
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint type="breakpoints">Design baseline: mobile (375px), tablet (768px), desktop (1440px). Use Tailwind classes: base for mobile, md: for tablet, lg: for desktop.</constraint>
    <constraint type="touch-targets">All interactive elements must be minimum 44x44px on mobile per WCAG AA (AC5).</constraint>
    <constraint type="no-horizontal-scroll">No horizontal scrolling at any breakpoint - content must fit within viewport width.</constraint>
    <constraint type="accessibility">Maintain keyboard navigation, focus indicators, and screen reader support across all breakpoints.</constraint>
    <constraint type="component-reuse">Extend existing components with responsive props/classes rather than creating separate mobile versions. Reuse filter state/handlers between mobile sheets and desktop controls.</constraint>
    <constraint type="mobile-first">Use mobile-first CSS pattern: base styles for mobile, enhance with md: and lg: breakpoints.</constraint>
    <constraint type="sidebar-visibility">Sidebar hidden below lg breakpoint (hidden lg:flex), ResponsiveHeader shown below lg (lg:hidden).</constraint>
    <constraint type="modal-pattern">Full-screen modals on mobile (&lt;768px), centered dialog on tablet/desktop (768px+).</constraint>
  </constraints>

  <interfaces>
    <interface name="useBreakpoint" kind="hook">
      <signature>() => 'mobile' | 'tablet' | 'desktop'</signature>
      <path>frontend/src/hooks/use-breakpoint.ts (to create)</path>
      <description>Returns current breakpoint based on: mobile (&lt;768px), tablet (768-1439px), desktop (1440px+)</description>
    </interface>
    <interface name="Sheet" kind="component">
      <signature>SheetContent side="left|right|top|bottom"</signature>
      <path>frontend/src/components/ui/sheet.tsx</path>
      <description>Use side="left" for NavSheet (260px mobile, 280px tablet), side="bottom" for FilterSheet/SortSheet</description>
    </interface>
    <interface name="sidebarMenu" kind="data">
      <signature>Array&lt;{title, url, icon}&gt;</signature>
      <path>frontend/src/components/sidebar/sidebar.tsx:26-52</path>
      <description>Navigation menu items to reuse in NavSheet: Dashboard, Applications, Interviews, Timeline, Files</description>
    </interface>
  </interfaces>

  <tests>
    <standards>Manual testing with Chrome DevTools device emulation. Lighthouse mobile audit for performance and accessibility. axe DevTools for accessibility validation. Real device testing on iOS Safari and Android Chrome.</standards>
    <locations>
      <location>Chrome DevTools → Device Toolbar (Ctrl+Shift+M)</location>
      <location>Lighthouse → Mobile audit</location>
      <location>axe DevTools browser extension</location>
    </locations>
    <ideas>
      <idea ac="AC1">Test at exact breakpoints: 375px, 768px, 1440px, 3840px</idea>
      <idea ac="AC2">Verify MobileHeader hamburger opens NavSheet, FAB appears, bottom sheets work</idea>
      <idea ac="AC3">Verify TabletHeader layout, no sidebar, centered modals, inline filters</idea>
      <idea ac="AC4">Verify full sidebar, multi-column layouts, rich toolbars on desktop</idea>
      <idea ac="AC5">Measure all interactive elements for 44x44px minimum touch target</idea>
      <idea ac="AC6">Test form input types (email, tel, url), keyboard appearance, auto-focus</idea>
      <idea ac="AC7">Test TipTap editor on mobile: simplified toolbar, paste, link insertion</idea>
      <idea ac="AC8">Verify modals: full-screen on mobile, centered dialog on tablet+</idea>
    </ideas>
  </tests>
</story-context>
